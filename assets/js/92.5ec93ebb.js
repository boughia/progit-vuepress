(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{510:function(s,a,t){"use strict";t.r(a);var e=t(28),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"生成-ssh-公钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成-ssh-公钥"}},[s._v("#")]),s._v(" 生成 SSH 公钥")]),s._v(" "),t("p",[s._v("\n如前所述，许多 Git 服务器都使用 SSH 公钥进行认证。\n为了向 Git 服务器提供 SSH 公钥，如果某系统用户尚未拥有密钥，必须事先为其生成一份。\n这个过程在所有操作系统上都是相似的。\n首先，你需要确认自己是否已经拥有密钥。\n默认情况下，用户的 SSH 密钥存储在其 "),t("code",{staticClass:"literal"},[s._v("~/.ssh")]),s._v(" 目录下。\n进入该目录并列出其中内容，你便可以快速确认自己是否已拥有密钥：")]),s._v(" "),t("pre",{staticClass:"language-bash"},[t("code",[t("span",{staticStyle:{"font-weight":"bold"}},[s._v("$")]),s._v(" cd ~/.ssh\n"),t("span",{staticStyle:{"font-weight":"bold"}},[s._v("$")]),s._v(" ls\nauthorized_keys2  id_dsa       known_hosts\nconfig            id_dsa.pub")])]),s._v(" "),t("p",[s._v("我们需要寻找一对以 "),t("code",{staticClass:"literal"},[s._v("id_dsa")]),s._v(" 或 "),t("code",{staticClass:"literal"},[s._v("id_rsa")]),s._v(" 命名的文件，其中一个带有 "),t("code",{staticClass:"literal"},[s._v(".pub")]),s._v(" 扩展名。\n"),t("code",{staticClass:"literal"},[s._v(".pub")]),s._v(" 文件是你的公钥，另一个则是与之对应的私钥。\n如果找不到这样的文件（或者根本没有 "),t("code",{staticClass:"literal"},[s._v(".ssh")]),s._v(" 目录），你可以通过运行 "),t("code",{staticClass:"literal"},[s._v("ssh-keygen")]),s._v(" 程序来创建它们。\n在 Linux/macOS 系统中，"),t("code",{staticClass:"literal"},[s._v("ssh-keygen")]),s._v(" 随 SSH 软件包提供；在 Windows 上，该程序包含于 MSysGit 软件包中。")]),s._v(" "),t("pre",{staticClass:"language-bash"},[t("code",[t("span",{staticStyle:{"font-weight":"bold"}},[s._v("$")]),s._v(" ssh-keygen -o\nGenerating public/private rsa key pair.\nEnter file in which to save the key (/home/schacon/.ssh/id_rsa):\nCreated directory '/home/schacon/.ssh'.\nEnter passphrase (empty for no passphrase):\nEnter same passphrase again:\nYour identification has been saved in /home/schacon/.ssh/id_rsa.\nYour public key has been saved in /home/schacon/.ssh/id_rsa.pub.\nThe key fingerprint is:\nd0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local")])]),s._v(" "),t("p",[s._v("首先 "),t("code",{staticClass:"literal"},[s._v("ssh-keygen")]),s._v(" 会确认密钥的存储位置（默认是 "),t("code",{staticClass:"literal"},[s._v(".ssh/id_rsa")]),s._v("），然后它会要求你输入两次密钥口令。\n如果你不想在使用密钥时输入口令，将其留空即可。\n然而，如果你使用了密码，那么请确保添加了 "),t("code",{staticClass:"literal"},[s._v("-o")]),s._v(" 选项，它会以比默认格式更能抗暴力破解的格式保存私钥。\n你也可以用 "),t("code",{staticClass:"literal"},[s._v("ssh-agent")]),s._v(" 工具来避免每次都要输入密码。")]),s._v(" "),t("p",[s._v("现在，进行了上述操作的用户需要将各自的公钥发送给任意一个 Git 服务器管理员\n（假设服务器正在使用基于公钥的 SSH 验证设置）。\n他们所要做的就是复制各自的 "),t("code",{staticClass:"literal"},[s._v(".pub")]),s._v(" 文件内容，并将其通过邮件发送。\n公钥看起来是这样的：")]),s._v(" "),t("pre",{staticClass:"language-bash"},[t("code",[t("span",{staticStyle:{"font-weight":"bold"}},[s._v("$")]),s._v(" cat ~/.ssh/id_rsa.pub\nssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU\nGPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3\nPbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA\nt3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En\nmZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx\nNrRFi9wrf+M7Q== schacon@mylaptop.local")])]),s._v(" "),t("p",[s._v("关于在多种操作系统中生成 SSH 密钥的更深入教程，请参阅 GitHub 的 SSH 密钥指南\n"),t("a",{staticClass:"link",attrs:{href:"https://help.github.com/articles/generating-ssh-keys"}},[s._v("https://help.github.com/articles/generating-ssh-keys")]),s._v("。")])])}),[],!1,null,null,null);a.default=n.exports}}]);